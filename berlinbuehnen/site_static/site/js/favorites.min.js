!function($,t){self.FavoriteManager={sContextItemType:"",sSlug:"",sInnerTextToAdd:favorite_tooltip_text.Add_to_My_Favorites,sTitleToAdd:favorite_tooltip_text.Add_to_My_Favorites,sInnerTextToRemove:favorite_tooltip_text.Remove_from_My_Favorites,sTitleToRemove:favorite_tooltip_text.Remove_from_My_Favorites,init:function(){},destruct:function(){self.FavoriteManager=null},toggle:function(t,e,o){return $(t).addClass("progress").css({cursor:"wait"}),$.get("/"+window.settings.lang+"/helper/favorite/"+e+"/"+o+"/",function(e){self.FavoriteManager.showResults(e,t)},"JSON"),!1},showResults:function(e,o){var r=self.FavoriteManager,i=$(o);if(e){var a=i.children("span:first");"added"===e.action?(i.attr({title:r.sTitleToRemove}).addClass("active"),a.html(r.sInnerTextToRemove),i.attr("data-original-title",r.sInnerTextToRemove)):(i.attr({title:r.sTitleToAdd}).removeClass("active"),a.html(r.sInnerTextToAdd),i.attr("data-original-title",r.sInnerTextToAdd)),e.count!==t&&i.children(".favorites_count").text(e.count)}i.removeClass("progress").css({cursor:"pointer"})}},$(document).ready(function(){self.FavoriteManager.init()}),$(window).unload(function(){self.FavoriteManager.destruct()})}(jQuery);