/*##################################################|*//* #CMS.BASE# */(function(t){t.$(document).ready(function(e){e=t.$||e;e.ajaxSetup({xhr:function(){try{if(window.ActiveXObject)return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}return new window.XMLHttpRequest}});t.API.Security={csrf:function(){e.ajaxSetup({beforeSend:function(t,n){function r(t){var n=null;if(document.cookie&&document.cookie!=""){var r=document.cookie.split(";");for(var i=0;i<r.length;i++){var s=e.trim(r[i]);if(s.substring(0,t.length+1)==t+"="){n=decodeURIComponent(s.substring(t.length+1));break}}}return n}if(typeof n.csrfTokenSet!=undefined&&n.csrfTokenSet)return!0;var i=document.URL.match(/^http[s]{0,1}:\/\/[^\/]+\//)[0],s=n.url.match(/^http[s]{0,1}:\/\/[^\/]+\//);s!=null&&(s=s[0]);if(!/^http:.*/.test(n.url)&&!/^https:.*/.test(n.url)||i==s){t.setRequestHeader("X-CSRFToken",r("csrftoken"));n.csrfTokenSet=!0}}});return"ready"}};t.API.Helpers={reloadBrowser:function(){window.location.reload()},getUrl:function(e){var t={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=t.parser[t.strictMode?"strict":"loose"].exec(e),r={},i=14;while(i--)r[t.key[i]]=n[i]||"";r[t.q.name]={};r[t.key[12]].replace(t.q.parser,function(e,n,i){n&&(r[t.q.name][n]=i)});return r},setUrl:function(t,n){var r=t,i=this.getUrl(r),s=i.queryKey,o="",u=0;n&&n.removeParam&&delete s[n.removeParam];n&&n.addParam&&(s[n.addParam.split("=")[0]]=n.addParam.split("=")[1]);e.each(s,function(e,t){u!=0&&(o+="&");o+=t?e+"="+t:e;u++});var a=o===""?"":"?",f=i.anchor?"#"+i.anchor:"";r=i.protocol+"://"+i.authority+i.directory+i.file+a+o+f;return r}}})})(window.CMS);