self.MutipleSelectAutoCompleteManager={init:function(){$("select[multiple]:visible").each(function(){var t=[],l={};$("option",this).each(function(){$(this).attr("value")&&(t.push($(this).text()),l[$(this).text()]=$(this).attr("value"))});var s=this,e=$(this).attr("id"),i=$(this).attr("name"),n=e+"_autocomplete",o=e+"_selected";$(this).wrap('<div class="autocomplete_container"></div>'),$(this).after('<ul id="'+o+'" class="autocomplete_selected"/><input type="text" id="'+n+'" />');var a=$("#"+n);a.autocomplete(t,{selectFirst:!1,highlight:!1,max:20,minChars:1,mustMatch:1,matchContains:!0}),a.result(function(t,e,i){var a=l[e];a&&($("#"+o).append("<li>"+e+'<a href="#" class="closebutton" /></li>'),$("option[value="+a+"]",s).attr("selected",!0),$(this).val(""),$("#"+o+" li:last").data("id",a),$("#"+n).focus(),t.preventDefault())}),$("option[selected]",this).each(function(){$("#"+o).append("<li>"+$(this).text()+'<a href="#" class="closebutton" /></li>'),$("#"+o+" li:last").data("id",$(this).attr("value"))}),$(this).hide(),$("#"+o).on("click","a.closebutton",function(t){var e=$(this).parents("li:first"),i=e.data("id");e.remove(),$("option[value="+i+"]",s).attr("selected",!1),t.preventDefault()})})},destruct:function(){self.MutipleSelectAutoCompleteManager=null}},$(document).ready(function(){self.MutipleSelectAutoCompleteManager.init()}),$(window).unload(function(){self.MutipleSelectAutoCompleteManager.destruct()});