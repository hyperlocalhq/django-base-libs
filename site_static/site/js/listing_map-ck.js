(function(e){e.fn.autoscroll=function(){e("html,body").animate({scrollLeft:this.offset().left,scrollTop:this.offset().top},500);return this}})(jQuery);(function(e,t){function u(){r&&r.close();self.aGeopositions=[];for(var e=0,t=s.length;e<t;e++)s[e].setMap(null);s=[]}function a(){var t=self.aGeopositions||[],o=long_min=500,u=long_max=-500,a=[],l;for(i=0,iLen=t.length;i<iLen;i++){if(i<10){l=window.settings.STATIC_URL+"site/img/gmap/markers_1-10.png";iMarkerImgY=-34*i}else if(i<26){l=window.settings.STATIC_URL+"site/img/gmap/markers_11-26.png";iMarkerImgY=-34*(i-10)}else{l=window.settings.STATIC_URL+"site/img/gmap/markers_1-10.png";iMarkerImgY=-340}iLat=t[i].latitude;iLong=t[i].longitude;u<iLat&&(u=iLat);iLat<o&&(o=iLat);long_max<iLong&&(long_max=iLong);iLong<long_min&&(long_min=iLong);var c=new google.maps.LatLng(iLat,iLong),h=new google.maps.MarkerImage(l,new google.maps.Size(20,34),new google.maps.Point(0,-iMarkerImgY),new google.maps.Point(10,34)),p=new google.maps.MarkerImage(window.settings.STATIC_URL+"site/img/gmap/marker_shadow.png",new google.maps.Size(37,34),new google.maps.Point(0,0),new google.maps.Point(8,25)),d=new google.maps.Marker({position:c,map:n,shadow:p,icon:h});d.list_index=i;(function(e,t){google.maps.event.addListener(e,"click",function(){r=new StyledInfoWindow({position:e.getPosition(),map:n,content:t})})})(d,t[i].content);s.push(d);a.push(c);e(".marker-link:eq("+i+")").append(e('<a href=""></a>').css({})).data("marker_obj",d).click(function(){google.maps.event.trigger(e(this).data("marker_obj"),"click");e("body").addClass("map_visible");return!1})}document.location.search&&f(n,a)}function f(e,t){var n=new google.maps.LatLngBounds;for(var r=0,i=t.length;r<i;r++)n.extend(t[r]);var s=n.getNorthEast();n.extend(new google.maps.LatLng(s.lat()-.005,s.lng()-.005));var o=n.getNorthEast();n.extend(new google.maps.LatLng(o.lat()+.005,o.lng()+.005));e.fitBounds(n)}var n,r,s=[],o=null;e(document).ready(function(){var t=e("#container");if(t.length){var r={zoom:13,mapTypeControl:!1,zoomControl:!0,streetViewControl:!0,center:new google.maps.LatLng(52.515306,13.363863),mapTypeId:google.maps.MapTypeId.ROADMAP,mapTypeControlOptions:{style:google.maps.MapTypeControlStyle.DROPDOWN_MENU},navigationControlOptions:{style:google.maps.NavigationControlStyle.SMALL}},i=document.getElementById("gmap");i&&(n=new google.maps.Map(i,r));t.bind("before_list_load",u).bind("after_list_load",a);location.hash?t.trigger("before_list_load"):t.trigger("after_list_load")}})})(jQuery);