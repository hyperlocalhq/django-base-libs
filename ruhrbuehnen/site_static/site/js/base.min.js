var image_cache=new Array();function initGoogleMaps(){initGoogleMaps.called=true;for(var a=0;a<initGoogleMaps.callbacks.length;a++){initGoogleMaps.callbacks[a]()}}initGoogleMaps.called=false;initGoogleMaps.callbacks=[];function lazyload_images(){$(".img img:in-viewport").lazyload({load:function(a,c,b){$(this).closest(".img").addClass("loaded")}})}u.ready(function(){u.window=u(window);u.html=u("html");u.body=u("body");u("a[href^='http://']").attr("target","_blank");if(typeof $!="undefined"&&$.tooltip&&$("[data-toggle=tooltip]").length){$("[data-toggle=tooltip]").tooltip({})}var q="is-xs";var b="is-vertical";var j=function(w){var t=false;var y=false;u(".width-sniffer").each$(function(){var z=u(this);if(z.css("display")=="block"){if(z.hasClass("visible-xs")){t="is-xs"}else{if(z.hasClass("visible-sm")){t="is-sm"}else{if(z.hasClass("visible-md")){t="is-md"}else{if(z.hasClass("visible-lg")){t="is-lg"}else{if(z.hasClass("visible-xl")){t="is-xl"}}}}}return false}});if(!t&&window.frameElement){var x=u(window.parent.document.body);if(x.hasClass("is-xs")){t="is-xs"}else{if(x.hasClass("is-sm")){t="is-sm"}else{if(x.hasClass("is-md")){t="is-md"}else{if(x.hasClass("is-lg")){t="is-lg"}else{if(x.hasClass("is-xl")){t="is-xl"}}}}}}if(t&&t!=q){u.html.removeClass(q);u.body.removeClass(q);q=t;u.html.addClass(t);u.body.addClass(t);y=true}var s=false;var v=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;var r=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;if(v>r){s="is-horizontal"}else{s="is-vertical"}if(s&&s!=b){u.html.removeClass(b);u.body.removeClass(b);b=s;u.html.addClass(s);u.body.addClass(s);y=true}if(y&&w!==true){k()}};u.window.resize(j);j(true);var g=function(){var s=location.search.substr(1);s=s.split("&");for(var r=0;r<s.length;r++){var t=s[r].split("=");if(t[0]=="edit"){break}}if(r!=s.length){u.body.addClass("cms-edit")}};g();var k=function(){var s=false;if(u.body.hasClass("is-xl")){s="responsive-xl"}if(u.body.hasClass("is-lg")){s="responsive-lg"}if(u.body.hasClass("is-md")){s="responsive-md"}if(u.body.hasClass("is-sm")){s="responsive-sm"}if(u.body.hasClass("is-xs")){s="responsive-xs"}var r="";if(u.body.hasClass("is-horizontal")){r="-horizontal"}if(u.body.hasClass("is-vertical")){r="-vertical"}if(s){u("img[data-responsive-src]").each(function(w){var z=u(w);var v=false;if(z.hasClass(s)){v=true}else{if(z.hasClass(s+r)){v=true}}var t=z.attr("src");if(v){var y=z.attr("data-responsive-src");if(t!=y){z.attr("src",y);var x=new Image();x.src=y;image_cache.push(x);z.trigger("imageSet",w)}z.css("display","")}else{z.css("display","none");if(t!="about:blank"){z.attr("src","about:blank");z.trigger("imageUnset",w)}}})}};window.setTimeout(k,1);u(".endless-loader").on("endlessLoader",function(s,r){k()});u(".burger-button").click(function(){u.body.toggleClass("nav-open");u("#header .dropdown.user-menu").removeClass("open")});u("*[data-dropdown]").each(function(r){var s=u(r);s.click(function(){u(u(this).attr("data-dropdown")).toggleClass("open")})});u("#header .menu-button").click(function(){if(u("#header .dropdown.user-menu").hasClass("open")){u("#header").addClass("user-menu-open")}else{u("#header").removeClass("user-menu-open")}});u("#header .burger-button").click(function(){u("#header").removeClass("user-menu-open")});u("#social_menu").each(function(v){var t=u(v);var s=u("#header .header-bg");var r=function(){if(s.size().left>55){t.removeClass("small")}else{t.addClass("small")}};r();u.window.resize(r)});u(".endless-loader").on("endlessLoader",function(w,r){if(!i.anchor){i.anchor=0}i.anchor++;var v=u('<a name="el'+i.anchor+'"></a>');var s=u(r.first());var z=s.previous();if(!z.length){return}var t=new Date();var y=new Date();t.setTime(parseInt(z.attr("data-date"))*1000);y.setTime(parseInt(s.attr("data-date"))*1000);t.setHours(0,0,0,0);y.setHours(0,0,0,0);if(t.getTime()==y.getTime()){s.remove();var x=u(r.nodes[1]);x.children().each(function(B,A){if(A==0){z.append(v)}z.append(B)});x.remove()}else{s.before(v);s.before('<div class="space"></div>')}window.location.hash="#el"+i.anchor});u(".grid-dates, .list-dates").each(function(r){var s=u(r);u("a.more-dates",r).click(function(){s.removeClass("more")});u("a.less-dates",r).click(function(){s.addClass("more")})});function l(r){var s=this;s.u_main=r;s.u_children=r.children().not(".overlay");s.overlay=u(".overlay",r.first());s.top=s.u_children.css("top");if(parseInt(s.top)!=0){s.top="50vh"}s.resize();s.scroll();u.window.resize(function(){s.resize()});u.window.on("scroll",function(){s.scroll()});u("img",r.first()).on("load",function(){s.resize()});if(s.u_children.hasClass("slider")&&s.overlay.length){s.overlay.swipeOn().swipe(function(v,t){s.u_children.trigger("swipe",t)})}}l.prototype.scroll=function(){var s=this;var v=window.pageYOffset;s.u_children.css("top","calc("+s.top+" - "+(v/2)+"px)");if(s.overlay.length){var w=s.overlay.height();if(w>0){var r=u.window.height();var t=(w-r)*(v/r)*3.5;s.overlay.css("top","-"+t+"px")}}};l.prototype.resize=function(){var y=this;var w=0;var t=0;y.u_children.each$(function(){var z=u(this);if(z.css("display")=="block"){w=z.width();t=z.height();return false}});var s=u.window.width();var v=u.window.height();var x=w/s;var r=t/v;if(x>r){y.u_main.addClass("vertical")}else{y.u_main.removeClass("vertical")}};u(".header-image").each(function(r){new l(u(r))});function p(r){var s=this;s.u_main=r;s.resize();u.window.resize(function(){s.resize()})}p.prototype.resize=function(){var r=this;r.u_main.css("margin-bottom","-"+r.u_main.height()+"px")};u(".height-offset").each(function(r){new p(u(r))});function e(s){var t=this;t.u_main=s;t.u_placeholder=null;t.window_height=u.window.height();t.u_stick=null;var v=t.u_main.attr("data-stick").split(",");for(var r=0;r<v.length;r++){if(!t.u_stick){t.u_stick=u(v[r])}else{t.u_stick=t.u_stick.add(v[r])}}if(!t.u_stick){return}t.heap_index=-1;t.heap_name=t.u_main.attr("data-stick-heap");t.heap=null;if(t.heap_name){if(!e.heap[t.heap_name]){e.heap[t.heap_name]=[];e.heap_last[t.heap_name]=-1}t.heap=e.heap[t.heap_name];t.heap_index=t.heap.length;t.heap[t.heap_index]=t;t.heap_display=t.u_main.css("display");t.u_main.addClass("heap-"+t.heap_index)}t.scroll_event=function(){t.scroll()};t.scroll();u.window.resize(function(){t.resize()});u.window.on2("scroll",t.scroll_event)}e.heap=[];e.heap_last=[];e.prototype.scroll=function(v){var y=this;if(!y.u_main||!y.u_main.parent().length){if(y.u_placeholder){y.u_placeholder.remove();y.u_placeholder=null}y.u_main=null;if(y.heap){for(var x=y.heap_index+1,t=y.heap.length;x<t;x++){y.heap[x].heap_index--;y.heap[x-1]=y.heap[x]}y.heap.length=y.heap.length-1;if(y.heap_index<y.heap.length){y.heap[y.heap_index].scroll()}y.heap=null}return}if(!v&&y.heap&&y.heap_index!=e.heap_last[y.heap_name]&&y.heap_index!=e.heap_last[y.heap_name]+1){return}var A=(y.u_placeholder)?y.u_placeholder:y.u_main;var s=A.size();if(!v){if(y.u_main.hasClass("sticky")){if(s.bottom<0){return}}else{if(s.top>y.window_height){return}}}var r=null;y.u_stick.each$(function(){var B=u(this);if(B.css("display")!="none"&&(B.hasClass("glue")||B.css("position")=="fixed")){r=B;return false}});var w=window.pageYOffset;var z=(r)?r.size():null;if(r&&s.top<=z.bottom){y.u_main.css("position","fixed");y.u_main.css("top",z.bottom+"px");y.u_main.addClass("sticky");if(!y.u_placeholder){y.u_placeholder=u("<div></div>");y.u_placeholder.height(Math.round(y.u_main.height()));y.u_main.after(y.u_placeholder);y.u_main.width(Math.round(y.u_placeholder.width()))}if(y.heap&&y.heap_index==e.heap_last[y.heap_name]+1){if(e.heap_last[y.heap_name]>=0){y.heap[e.heap_last[y.heap_name]].u_main.css("display","none");u.window.off("scroll",y.heap[e.heap_last[y.heap_name]].scroll_event)}e.heap_last[y.heap_name]++;y.heap[e.heap_last[y.heap_name]].scroll(v)}}else{y.u_main.css("position","");y.u_main.css("top","");y.u_main.removeClass("sticky");if(y.u_placeholder){y.u_placeholder.remove();y.u_placeholder=null;y.u_main.css("width","")}if(y.heap&&y.heap_index==e.heap_last[y.heap_name]){y.u_main.css("display",y.heap_display);e.heap_last[y.heap_name]--;if(e.heap_last[y.heap_name]>=0){y.heap[e.heap_last[y.heap_name]].u_main.css("display",y.heap[e.heap_last[y.heap_name]].heap_display);u.window.off("scroll",y.heap[e.heap_last[y.heap_name]].scroll_event);u.window.on2("scroll",y.heap[e.heap_last[y.heap_name]].scroll_event);y.heap[e.heap_last[y.heap_name]].scroll(v)}}}};e.prototype.resize=function(){var r=this;r.window_height=u.window.height();if(r.u_placeholder){if(r.heap&&r.heap_index<e.heap_last){r.u_main.css("display",r.heap_display)}r.u_placeholder.height(Math.round(r.u_main.height()));if(r.heap&&r.heap_index<e.heap_last){r.u_main.css("display","none")}r.u_main.width(Math.round(r.u_placeholder.width()))}r.scroll(true)};e.initiate=function(r){r.each(function(s){var t=u(s);if(t.attr("data-stick")){new e(t)}u("*[data-stick]",s).each(function(v){new e(u(v))})})};u(".endless-loader").on("endlessLoader",function(s,r){e.initiate(r)});e.initiate(u("body"));function h(t){var v=this;v.u_main=t;v.u_slides=u(".slide",v.u_main.first());v.length=v.u_slides.length;v.fullscreen=v.u_main.hasClass("fullscreen");v.rotate=v.u_main.attr("data-rotate");v.rotate=!(!(v.rotate&&v.rotate!=="0"&&v.rotate!==0&&v.rotate.toLowerCase()!=="false"));v.interval=parseInt(v.u_main.attr("data-interval"));v.interval=(!v.interval||v.interval<0)?0:v.interval;v.timeout=null;v.current_slide=0;v.next_slide=0;v.final_slide=0;v.skip_ending=false;v.animation_objects=[];v.is_animating=false;var s=u(v.u_slides.first());s.addClass("current");var r=s.attr("data-illumination");if(r){u.body.removeClass("illumination-dark illumination-light").addClass("illumination-"+r)}v.resize();u.window.resize(function(){v.resize()});u("img",v.u_main.first()).on("load imageSet",function(){v.resize()});if(v.u_slides.length>1){v.u_left=u('<div class="slide-left"></div>');v.u_right=u('<div class="slide-right"></div>');v.u_left.click(function(){v.interval=0;v.slideToRight()});v.u_right.click(function(){v.interval=0;v.slideToLeft()});v.u_main.append(v.u_left);v.u_main.append(v.u_right);v.checkButtons();v.u_main.swipeOn().swipe(function(w,x){v.swipe(x)})}if(v.interval){v.timeout=u.setTimeout(function(){v.slideToLeft()},v.interval)}}h.prototype.slideTo=function(r){var s=this;if(s.timeout){u.clearTimeout(s.timeout)}s.timeout=null;if(s.is_animating){return}s.skip_ending=false;if(r>=s.length){if(!s.rotate){s.interval=0;if(s.current_slide==s.length-1){s.checkButtons()}else{s.final_slide=s.length-1;s.animate()}}else{s.skip_ending=true;s.final_slide=r-s.length;s.animate()}}else{if(r<0){if(!s.rotate){s.interval=0;if(s.current_slide==0){s.checkButtons()}else{s.final_slide=0;s.animate()}}else{s.skip_ending=true;s.final_slide=r+s.length;s.animate()}}else{s.final_slide=r;s.animate()}}};h.prototype.slideToLeft=function(){var r=this;r.slideTo(r.current_slide+1)};h.prototype.slideToRight=function(){var r=this;r.slideTo(r.current_slide-1)};h.prototype.swipe=function(s){var r=this;if(s=="left"){r.interval=0;r.slideToLeft()}if(s=="right"){r.interval=0;r.slideToRight()}};h.prototype.checkButtons=function(){var r=this;if(r.u_slides.length<2){return}if(r.rotate){r.u_left.addClass("active").removeClass("inactive");r.u_right.addClass("active").removeClass("inactive")}else{if(r.current_slide==0){r.u_left.addClass("inactive").removeClass("active");r.u_right.addClass("active").removeClass("inactive")}else{if(r.current_slide==r.length-1){r.u_left.addClass("active").removeClass("inactive");r.u_right.addClass("inactive").removeClass("active")}else{r.u_left.addClass("active").removeClass("inactive");r.u_right.addClass("active").removeClass("inactive")}}}};h.prototype.animate=function(){var s=this;s.is_animating=true;if(s.current_slide==s.final_slide){s.checkButtons();s.is_animating=false;if(s.interval){s.timeout=u.setTimeout(function(){s.slideToLeft()},s.interval)}return}if(s.current_slide<s.final_slide){if(s.skip_ending){s.next_slide=s.current_slide-1;if(s.next_slide<0){s.next_slide=s.length-1}}else{s.next_slide=s.current_slide+1}}else{if(s.skip_ending){s.next_slide=s.current_slide+1;if(s.next_slide==s.length){s.next_slide=0}}else{s.next_slide=s.current_slide-1}}s.u_main.removeClass("is-animating");var r=u(s.u_slides.nodes[s.current_slide]);var t=u(s.u_slides.nodes[s.next_slide]);r.addClass("current").removeClass("next");t.addClass("next").removeClass("current");if(s.fullscreen){s.calcFullscreen()}};h.prototype.startAnimation=function(z){var v=this;var t=u(v.u_slides.nodes[v.current_slide]);var w=u(v.u_slides.nodes[v.next_slide]);var y=null;var s=w.attr("data-illumination");if(s){u.body.removeClass("illumination-dark illumination-light").addClass("illumination-"+s)}var x=function(){w.transition(r);v.u_main.addClass("is-animating");window.setTimeout(function(){for(var A=0;A<v.animation_objects.length;A++){var C=v.animation_objects[A].object;var E=v.animation_objects[A].animations;for(var B in E){C.css(B,E[B])}}if(!u.transition_event){r()}else{var D=w.css("transition-duration");if(D.substr(-1)=="s"){D=Math.round(parseFloat(D)*1000)}else{D=parseInt(D)}y=window.setTimeout(r,D+100)}},100)};var r=function(){if(u.transition_event){w.off(u.transition_event)}if(y){window.clearTimeout(y)}v.u_main.removeClass("is-animating");t.removeClass("current");w.removeClass("next").addClass("current");if(z){z()}v.current_slide=v.next_slide;v.animate()};window.setTimeout(x,1)};h.prototype.calcFullscreen=function(){var t=this;var r=u(t.u_slides.nodes[t.current_slide]);var v=u(t.u_slides.nodes[t.next_slide]);var s=((t.current_slide>t.next_slide&&!t.skip_ending)||(t.current_slide<t.next_slide&&t.skip_ending));t.animation_objects=[];if(s){r.css("left","0vw");v.css("left","-100vw");v.first().focus();t.animation_objects.push({object:r,animations:{left:"100vw"}});t.animation_objects.push({object:v,animations:{left:"0vw"}})}else{r.css("left","0vw");v.css("left","100vw");v.first().focus();t.animation_objects.push({object:r,animations:{left:"-100vw"}});t.animation_objects.push({object:v,animations:{left:"0vw"}})}t.startAnimation()};h.prototype.resize=function(){var y=this;var w=0;var t=0;y.u_slides.each$(function(){var z=u(this);if(z.css("display")=="block"){u("img",this).each$(function(){var A=u(this);w=A.width();t=A.height();if(w&&t){return false}w=0;t=0});if(w&&t){return false}}});if(!w||!t){window.setTimeout(function(){y.resize()},50);return}var s=u.window.width();var v=u.window.height();var x=w/s;var r=t/v;if(x>r){y.u_main.addClass("vertical")}else{y.u_main.removeClass("vertical")}};u(".slider").each(function(r){new h(u(r))});function c(r){var s=this;s.u_logo=r;s.u_svg=u("svg",s.u_logo.first());s.u_main=s.u_logo.closest(".slider");s.u_slides=u(".slide",s.u_main.first());if(u("a",s.u_main.first()).length){s.u_logo.css("cursor","pointer")}s.max_width=s.u_svg.width();s.resize();u.window.resize(function(){s.resize()});s.u_logo.click(function(){s.click()});s.u_logo.swipeOn().swipe(function(t,v){s.swipe(v)})}c.prototype.click=function(){var r=this;r.u_slides.each$(function(){var s=u(this);if(s.hasClass("current")){var t=u("a",s.first());t.first().click();return false}})};c.prototype.swipe=function(s){var r=this;r.u_main.trigger("swipe",s)};c.prototype.resize=function(){var t=this;if(u.body.hasClass("is-horizontal")){var r=u.window.height();var v=r/2;if(v>t.max_width){v=t.max_width}t.u_svg.width(v);t.u_svg.height(v)}else{var s=t.u_logo.width();t.u_svg.width(s);t.u_svg.height(s)}};u(".slider .logo").each(function(r){new c(u(r))});function a(r){var s=this;s.u_main=r;s.u_main.click(function(t){return s.click(t)})}a.prototype.click=function(t){t.preventDefault();var s=this;var r=s.u_main.attr("data-href");var v=s.u_main.attr("data-target");if(!v){v="_self"}if(v=="_self"){location.href=r}else{window.open(r,v)}return false};u("*[data-href]").each(function(r){new a(u(r))});function i(r){var s=this;s.u_main=r;s.u_pagination=u(".pagination",s.u_main.first());s.loading=false;if(s.u_pagination.length){s.u_pagination.remove();s.u_next_page=u(".next_page",s.u_pagination.first());if(s.u_next_page.length){s.href=s.u_next_page.first().href;s.scroll_function=function(){s.scroll()};u.window.on2("scroll",s.scroll_function)}}}i.prototype.scroll=function(){var r=this;if(r.loading){return}if(!r.href){u.window.off("scroll",r.scroll_function);return}if(r.u_main.size().bottom<=u.window.height()){r.loading=true;window.setTimeout(function(){r.load()},10)}};i.prototype.load=function(){var r=this;if(!u.ajax(r.href,function(s,t){r.add(s,t)})){r.href=null;r.loading=false}};i.prototype.add=function(w,z){var x=this;if(!z){x.href=null;x.loading=false;return}var t=w.toLowerCase();w=w.substring(t.indexOf("<body"),t.indexOf("</body>")+7);var v=[];u(w).each(function(A){if(!v.length){v=u(".endless-loader",A)}});if(!v.length){x.href=null;x.loading=false;return}var y=u(".pagination",v.first());if(y.length){y.remove();var r=u(".next_page",y.first());if(r.length){x.href=r.first().href}else{x.href=null}}else{x.href=null}var s=v.children();s.each(function(A){x.u_main.append(A)});x.u_main.trigger("endlessLoader",s);u.window.trigger("resize");x.loading=false};u(".endless-loader").each(function(r){new i(u(r))});function o(r){var s=this;s.u_main=r;s.width=s.u_main.width();s.u_columns=u(".gallery-col",s.u_main.first());s.u_items=u(".gallery-item",s.u_main.first());s.u_images=u("img",s.u_main.first());s.u_current=null;s.u_layer=null;s.u_image=null;s.u_description=null;s.u_image_old=null;s.u_image_new=null;s.image_loading=null;s.u_next=null;s.u_prev=null;s.order();s.u_images.on("load imageSet",function(){s.order()});u.window.resize(function(){s.resize()});s.u_items.click(function(){s.open(this)});if(s.u_items.length>1){s.u_next=u('<div class="gallery-layer-next"></div>');s.u_prev=u('<div class="gallery-layer-prev"></div>');s.u_next.click(function(){s.next()});s.u_prev.click(function(){s.prev()})}}o.prototype.order=function(){var r=this;r.u_items.remove();r.u_items.each(function(v){var s=999999999;var t=-1;r.u_columns.each(function(y,w){var z=u(y);var x=z.height();if(x<s){s=x;t=w}});if(t>=0){u(r.u_columns.nodes[t]).append(v)}})};o.prototype.open=function(v){var t=this;if(t.u_layer){t.close()}t.u_current=u(v);if(!t.u_current.attr("data-image")){return}t.u_layer=u('<div id="gallery_layer"></div>');var s=u('<div class="gallery-layer-close"><svg class="svg-icons-close" viewPort="0 0 12 12" version="1.1" xmlns="http://www.w3.org/2000/svg"><line x1="20%" y1="80%" x2="80%" y2="20%" stroke="black" stroke-width="20%"/><line x1="20%" y1="20%" x2="80%" y2="80%" stroke="black" stroke-width="20%"/></svg></div>');t.u_layer.append(s);if(t.u_items.length>1){t.u_layer.append(t.u_next);t.u_layer.append(t.u_prev)}var r=u('<div class="gallery-layer-image-wrapper"></div>');t.u_image=u('<div class="galler-layer-image"></div>');r.append(t.u_image);t.u_layer.append(r);t.u_description=u('<div class="gallery-layer-description"></div>');t.u_layer.append(t.u_description);if(t.u_items.length>1){r.swipeOn().swipe(function(x,w){t.swipe(w)})}u.body.append(t.u_layer);s.click(function(){t.close()});t.show()};o.prototype.close=function(){var r=this;r.u_layer.remove();r.u_layer=null;r.u_current=null;r.u_image=null;r.u_description=null;r.u_image_old=null;r.u_image_new=null};o.prototype.show=function(){var t=this;if(t.image_loading){return}if(t.u_image_new){t.u_image_old=t.u_image_new;t.u_image_old.removeClass("gallery-layer-image-new gallery-layer-image-loaded").addClass("gallery-layer-image-old");t.u_image_new=null}var v=function(){t.u_image_new=u('<div class="gallery-layer-image-new" style="background-image:url('+t.image_loading.src+');"></div>');t.u_image_new.transition(s);t.u_image.append(t.u_image_new);t.image_loading=null;if(!u.transition_event){s()}else{window.setTimeout(function(){t.u_image_new.addClass("gallery-layer-image-loaded")},10)}};var s=function(){if(t.u_image_old){t.u_image_old.remove();t.u_image_old=null}};t.image_loading=new Image();t.image_loading.onload=v;t.image_loading.src=t.u_current.attr("data-image");t.u_description.html("");var r=u(".gallery-image-text",t.u_current.first());if(r.length){t.u_description.append(r.clone())}};o.prototype.next=function(){var t=this;if(t.image_loading){return}var s=-1;var r=t.u_current.attr("data-image");t.u_items.each$(function(v){if(r==u(this).attr("data-image")){s=v;return false}});if(s>=0){s++;if(s==t.u_items.length){s=0}t.u_current=u(t.u_items.nodes[s]);t.show()}};o.prototype.prev=function(){var t=this;if(t.image_loading){return}var s=-1;var r=t.u_current.attr("data-image");t.u_items.each$(function(v){if(r==u(this).attr("data-image")){s=v;return false}});if(s>=0){s--;if(s==-1){s=t.u_items.length-1}t.u_current=u(t.u_items.nodes[s]);t.show()}};o.prototype.swipe=function(s){var r=this;if(s=="left"){r.next()}if(s=="right"){r.prev()}};o.prototype.resize=function(){var r=this;if(r.u_main.width()!=r.width){r.order();r.width=r.u_main.width()}};u(".gallery").each(function(r){new o(u(r))});function n(r){var s=this;s.u_main=r;s.u_items=u(".accordion-item",s.u_main.first());u(".accordion-head",s.u_main.first()).click(function(){s.click(u(this))});u(".accordion-body",s.u_main.first()).transition(function(){s.transition(u(this))})}n.prototype.click=function(t){var r=this;var v=t.parent();var s=v.hasClass("open");r.u_items.removeClass("open opened");if(!s){v.addClass("open");if(!u.transition_event){v.addClass("opened")}}};n.prototype.transition=function(r){var s=this;var v=r.parent();var t=v.hasClass("open");s.u_items.removeClass("opened");if(t){v.addClass("opened")}};u(".accordion").each(function(r){new n(u(r))});function f(r){var s=this;s.u_main=r;s.class_name=s.u_main.attr("data-add-class");s.target=s.u_main.attr("data-add-class-target");if(s.target===null){s.target="+0"}s.from_top=false;s.from_bottom=false;s.from_scroll=false;if(s.target.substr(0,1)=="+"){s.from_top=true;s.target=parseInt(s.target.substr(1))}else{if(s.target.substr(0,1)=="-"){s.from_bottom=true;s.target=parseInt(s.target.substr(1))}else{if(!isNaN(parseInt(s.target))&&parseInt(s.target)==s.target){s.from_scroll=true;s.target=parseInt(s.target)}}}s.setClass();u.window.on("scroll",function(){s.setClass()})}f.prototype.setClass=function(){var w=this;if(w.u_main.css("display")=="none"){return}if(w.from_scroll){if(window.pageYOffset<w.target){u.body.removeClass(w.class_name)}else{u.body.addClass(w.class_name)}}else{if(w.from_top){var t=w.u_main.size();if(t.top>w.target){u.body.removeClass(w.class_name)}else{u.body.addClass(w.class_name)}}else{if(w.from_bottom){var t=w.u_main.size();if(t.top>u.window.height()-w.target){u.body.removeClass(w.class_name)}else{u.body.addClass(w.class_name)}}else{var r=u(w.target);if(r.length){if(r.css("display")=="none"){u.body.removeClass(w.class_name);return}var v=r.size();var s=w.u_main.size();if(s.top>v.bottom){u.body.removeClass(w.class_name)}else{u.body.addClass(w.class_name)}}else{u.body.removeClass(w.class_name)}}}}};u("*[data-add-class]").each(function(r){new f(u(r))});function d(r){var s=this;s.u_main=r;s.u_left=u('<div class="date-slider-left"></div>');s.u_right=u('<div class="date-slider-right"></div>');s.u_left.append(u(".arrow-left",s.u_main.first()));s.u_right.append(u(".arrow-right",s.u_main.first()));s.u_year=u('<div class="date-slider-year"></div>');s.u_month=u('<div class="date-slider-month"></div>');s.u_year_month=u('<div class="date-slider-year-month"></div>');s.u_year_month.append(s.u_year);s.u_year_month.append(s.u_month);s.u_dates=u('<div class="date-slider-dates"></div>');s.u_main.append(s.u_left);s.u_main.append(s.u_year_month);s.u_main.append(s.u_dates);s.u_main.append(s.u_right);s.selected_date=new Date(parseInt(s.u_main.attr("data-date"))*1000);s.selected_date.setHours(12,0,0,0);s.today=new Date(parseInt(s.u_main.attr("data-today"))*1000);s.today.setHours(12,0,0,0);s.left_date=new Date(s.selected_date.getTime());s.right_date=new Date(s.selected_date.getTime());s.path=s.u_main.attr("data-path");s.days=s.u_main.attr("data-days").split(",");s.months=s.u_main.attr("data-months").split(",");window.setTimeout(function(){s.fillDates()},0);u.window.resize(function(){s.fillDates()});s.u_left.click(function(){s.prev()});s.u_right.click(function(){s.next()})}d.prototype.fillDates=function(){if(u.body.hasClass("is-xs")){return}var C=this;C.u_year.html(C.left_date.getFullYear());C.u_month.html(C.months[C.left_date.getMonth()]);C.u_dates.html("");var F=new Date(C.left_date.getTime());var D=C.u_dates.size().top;var r,y,t,w,v,s,E,B,A,z,x;s=F.getDate();A=F.getFullYear();do{C.right_date=new Date(F.getTime());w=null;t=null;B=F.getFullYear();v=F.getDate();if(v<s){t=u('<div class="date-slider-seperator"></div>');C.u_dates.append(t);if(B!=A){w=u('<div class="date-slider-year">'+B+"</div>");C.u_dates.append(w)}y=u('<div class="date-slider-month">'+C.months[F.getMonth()]+"</div>")}else{x=(C.selected_date.getTime()!=F.getTime());z=F.getMonth()+1;E=(v<10)?"0"+v:v;y=u('<a href="'+C.path+"?date="+B+"-"+z+"-"+v+'" class="date-slider-date '+((x)?"":"date-slider-active")+'">'+E+"</a>");F.setDate(F.getDate()+1);F.setHours(12,0,0,0)}C.u_dates.append(y);r=y.size().top;s=v;A=B}while(D+5>r);y.remove();if(w&&w.size().top>D+5){w.remove()}if(t&&t.size().top>D+15){t.remove()}if(C.left_date.getTime()!=C.today.getTime()){C.u_left.removeClass("deactive")}else{C.u_left.addClass("deactive")}};d.prototype.next=function(){var r=this;r.left_date=r.right_date;r.fillDates()};d.prototype.prev=function(){var s=this;if(s.u_left.hasClass("deactive")){return}var r=s.left_date.getTime();do{s.left_date.setDate(s.left_date.getDate()-1);s.left_date.setHours(12,0,0,0);s.fillDates()}while(s.right_date.getTime()>r&&!s.u_left.hasClass("deactive"))};u(".date-slider").each(function(r){new d(u(r))});function m(r){var s=this;s.u_main=r;s.u_locations=u(".google-maps-location",s.u_main.first());s.map=null;s.u_main.html("");s.u_over=null;s.mouse_x=0;s.mouse_y=0;s.u_main.first().onmousemove=function(t){if(t){s.mouse_x=t.clientX;s.mouse_y=t.clientY}else{s.mouse_x=window.event.clientX;s.mouse_y=window.event.clientY}s.setOver()};s.resolution=(u.body.hasClass("is-xs"))?"xs":((u.body.hasClass("is-sm"))?"sm":((u.body.hasClass("is-md"))?"md":((u.body.hasClass("is-lg"))?"lg":"xl")));if(initGoogleMaps.called){s.init()}else{initGoogleMaps.callbacks.push(function(){s.init()})}u.window.resize(function(){s.resize()})}m.prototype.init=function(){var x=this;var r=false;var z=x.u_main.attr("data-zoom");if(z){z=parseInt(z);r=true}else{z=x.u_main.attr("data-zoom-single");if(z){z=parseInt(z)}else{z=8}}var y=x.u_main.attr("data-latitude");var A=x.u_main.attr("data-longitude");var v=false;if(y&&A){y=parseFloat(y);A=parseFloat(A);v=true}else{if(x.u_locations.length){var t=0;y=0;A=0;x.u_locations.each(function(C){var E=u(C);var B=E.attr("data-latitude");var D=E.attr("data-longitude");if(B&&D){t++;y+=parseFloat(B);A+=parseFloat(D)}});if(t){y/=t;A/=t}else{y=null;A=null}}else{y=null;A=null}}if(y!==null){x.map=new google.maps.Map(x.u_main.first(),{center:{lat:y,lng:A},zoom:z})}if(!x.map){x.u_main.remove()}else{var s=new google.maps.LatLngBounds();var w=0;x.u_locations.each(function(G){var P=u(G);var H=P.attr("data-latitude");var E=P.attr("data-longitude");if(H&&E){w++;var K=new google.maps.Marker({map:x.map,position:{lat:parseFloat(H),lng:parseFloat(E)}});var L=new google.maps.LatLng(K.position.lat(),K.position.lng());s.extend(L);var I=u(".google-maps-icon",G);if(I.length){var O={url:I.attr("data-src")};var D=I.attr("data-width");var Q=I.attr("data-height");var C=I.attr("data-width-"+x.resolution);var N=I.attr("data-height-"+x.resolution);if(C){D=C}if(N){Q=N}if(D&&Q){O.scaledSize=new google.maps.Size(parseInt(D),parseInt(Q))}K.setIcon(O)}var F=u(".google-maps-over",G).clone();if(F.length){var M=function(){x.u_over=F;u.body.append(F);x.setOver()};var J=function(){x.u_over=null;F.remove()};K.addListener("mouseover",M);K.addListener("mouseout",J)}var B=P.attr("data-href");if(B){K.addListener("click",function(){var R=P.attr("data-target");if(!R){R="_self"}if(R=="_self"){location.href=B}else{window.open(B,R)}})}}});if(w){if(!r){z=x.u_main.attr("data-zoom-single");if(z&&w==1){x.map.setZoom(parseInt(z))}else{x.map.fitBounds(s)}}if(!v){x.map.panToBounds(s)}}}};m.prototype.setOver=function(){var s=this;if(!s.u_over){return}s.u_over.css("top",(s.mouse_y-(s.u_over.height()/2))+"px");s.u_over.css("width","");s.u_over.css("white-space","nowrap");var t=s.u_over.width();var r=u.window.width();s.u_over.css("white-space","");if(s.mouse_x+10+t>r){if(s.mouse_x-10-t<0){if(s.mouse_x<r/2){s.u_over.width(r-s.mouse_x-10);s.u_over.css("left",(s.mouse_x+10)+"px")}else{s.u_over.width(s.mouse_x-10);s.u_over.css("left","0px")}}else{s.u_over.css("left",(s.mouse_x-10-t)+"px")}}else{s.u_over.css("left",(s.mouse_x+10)+"px")}};m.prototype.resize=function(){var s=this;var r=(u.body.hasClass("is-xs"))?"xs":((u.body.hasClass("is-sm"))?"sm":((u.body.hasClass("is-md"))?"md":((u.body.hasClass("is-lg"))?"lg":"xl")));if(r!=s.resolution){s.resolution=r;if(s.u_over){s.u_over.remove()}s.u_over=null;if(s.map){s.u_main.html("");s.map=null;s.init()}}};u(".google-maps").each(function(r){new m(u(r))})});