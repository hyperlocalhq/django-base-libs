{% load image_modifications i18n fb_tags %}

<div class="col-xs-12 print-padding image-text">
    {% if instance.layout == "image-left" %}
        <div class="row hidden-xs hidden-sm horizontal">
            <div class="col-md-6">
                {% with instance.image|file_description as file_desc %}
                    <div class="img chevron">
                        <img src="{{ MEDIA_URL }}{{ instance.image|modified_path:'some_modification' }}"
                             alt="{{ instance.alt|escape }}"
                             class="img-responsive"/>
                        {% if file_desc.author %}
                            <span class="photo-credits-over">{% trans "Photo" %}: {{ file_desc.author }}</span>{% endif %}
                    </div>
                {% endwith %}
            </div>
            <div class="col-md-6">
                <h2>{{ instance.title }}</h2>
                <h3>{{ instance.subtitle }}</h3>
                <div class="text">
                    {{ instance.get_rendered_body }}
                </div>
                {% if instance.internal_link or instance.external_link %}
                    <a class="button"
                       href="{% if instance.internal_link %}{{ instance.internal_link.get_absolute_url }}{% else %}{{ instance.external_link }}" target="_blank{% endif %}">{% trans instance.link_text %}</a>
                {% endif %}
            </div>
        </div>
        <div class="row visible-xs visible-sm top-bottom">
            <div class="col-xs-12">
                {% with instance.image|file_description as file_desc %}
                    <div class="img chevron">
                        <img src="{{ MEDIA_URL }}{{ instance.image|modified_path:'some_modification' }}"
                             alt="{{ instance.alt|escape }}"
                             class="img-responsive"/>
                        {% if file_desc.author %}
                            <span class="photo-credits-over">{% trans "Photo" %}: {{ file_desc.author }}</span>{% endif %}
                    </div>
                {% endwith %}
            </div>
            <div class="col-xs-12">
                <h2>{{ instance.title }}</h2>
                <h3>{{ instance.subtitle }}</h3>
                <div class="text">
                    {{ instance.get_rendered_body }}
                </div>
                {% if instance.internal_link or instance.external_link %}
                    <a class="button"
                       href="{% if instance.internal_link %}{{ instance.internal_link.get_absolute_url }}{% else %}{{ instance.external_link }}" target="_blank{% endif %}">{% trans instance.link_text %}</a>
                {% endif %}
            </div>
        </div>
        <div class="row">
            <hr class="big"/>
        </div>
    {% elif instance.layout == "image-right" %}
        <div class="row hidden-xs hidden-sm horizontal">
            <div class="col-md-6">
                <h2>{{ instance.title }}</h2>
                <h3>{{ instance.subtitle }}</h3>
                <div class="text">
                    {{ instance.get_rendered_body }}
                </div>
                {% if instance.internal_link or instance.external_link %}
                    <a class="button"
                       href="{% if instance.internal_link %}{{ instance.internal_link.get_absolute_url }}{% else %}{{ instance.external_link }}" target="_blank{% endif %}">{% trans instance.link_text %}</a>
                {% endif %}
            </div>
            <div class="col-md-6">
                {% with instance.image|file_description as file_desc %}
                    <div class="img chevron">
                        <img src="{{ MEDIA_URL }}{{ instance.image|modified_path:'some_modification' }}"
                             alt="{{ instance.alt|escape }}"
                             class="img-responsive"/>
                        {% if file_desc.author %}
                            <span class="photo-credits-over">{% trans "Photo" %}: {{ file_desc.author }}</span>{% endif %}
                    </div>
                {% endwith %}
            </div>
        </div>
        <div class="row visible-xs visible-sm top-bottom">
            <div class="col-xs-12">
                {% with instance.image|file_description as file_desc %}
                    <div class="img chevron">
                        <img src="{{ MEDIA_URL }}{{ instance.image|modified_path:'some_modification' }}"
                             alt="{{ instance.alt|escape }}"
                             class="img-responsive"/>
                        {% if file_desc.author %}
                            <span class="photo-credits-over">{% trans "Photo" %}: {{ file_desc.author }}</span>{% endif %}
                    </div>
                {% endwith %}
            </div>
            <div class="col-xs-12">
                <h2>{{ instance.title }}</h2>
                <h3>{{ instance.subtitle }}</h3>
                <div class="text">
                    {{ instance.get_rendered_body }}
                </div>
                {% if instance.internal_link or instance.external_link %}
                    <a class="button"
                       href="{% if instance.internal_link %}{{ instance.internal_link.get_absolute_url }}{% else %}{{ instance.external_link }}" target="_blank{% endif %}">{% trans instance.link_text %}</a>
                {% endif %}
            </div>
        </div>
        <div class="row">
            <hr class="big"/>
        </div>
    {% elif instance.layout == "image-top" %}
        <div class="row top-bottom">
            <div class="col-xs-12">
                {% with instance.image|file_description as file_desc %}
                    <div class="img chevron">
                        <img src="{{ MEDIA_URL }}{{ instance.image|modified_path:'some_modification' }}"
                             alt="{{ instance.alt|escape }}"
                             class="img-responsive"/>
                        {% if file_desc.author %}
                            <span class="photo-credits-over">{% trans "Photo" %}: {{ file_desc.author }}</span>{% endif %}
                    </div>
                {% endwith %}
            </div>
            <div class="col-xs-12">
                <h2>{{ instance.title }}</h2>
                <h3>{{ instance.subtitle }}</h3>
                <div class="text">
                    {{ instance.get_rendered_body }}
                </div>
                {% if instance.internal_link or instance.external_link %}
                    <a class="button"
                       href="{% if instance.internal_link %}{{ instance.internal_link.get_absolute_url }}{% else %}{{ instance.external_link }}" target="_blank{% endif %}">{% trans instance.link_text %}</a>
                {% endif %}
            </div>
        </div>
        <div class="row">
            <hr class="big"/>
        </div>
    {% elif instance.layout == "image-bottom" %}
        <div class="row bottom-top">
            <div class="col-xs-12">
                <h2>{{ instance.title }}</h2>
                <h3>{{ instance.subtitle }}</h3>
                <div class="text">
                    {{ instance.get_rendered_body }}
                </div>
                {% if instance.internal_link or instance.external_link %}
                    <a class="button"
                       href="{% if instance.internal_link %}{{ instance.internal_link.get_absolute_url }}{% else %}{{ instance.external_link }}" target="_blank{% endif %}">{% trans instance.link_text %}</a>
                {% endif %}
            </div>
            <div class="col-xs-12">
                {% with instance.image|file_description as file_desc %}
                    <div class="img chevron">
                        <img src="{{ MEDIA_URL }}{{ instance.image|modified_path:'some_modification' }}"
                             alt="{{ instance.alt|escape }}"
                             class="img-responsive"/>
                        {% if file_desc.author %}
                            <span class="photo-credits-over">{% trans "Photo" %}: {{ file_desc.author }}</span>{% endif %}
                    </div>
                {% endwith %}
            </div>
        </div>
        <div class="row">
            <hr class="big"/>
        </div>
    {% endif %}
</div>
