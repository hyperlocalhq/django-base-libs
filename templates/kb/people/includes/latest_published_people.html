{% load i18n base_tags site_specific image_mods_tags favorites %}
{% comment %}<!--
Usage in any template:
    {% load base_tags %}
    
    Simple:
    {% include_parsed "people/includes/latest_published_people.html" %}
    
    Customized:
    {% include_parsed "people/includes/latest_published_people.html" with 5 as amount %}
    
-->{% endcomment %}

{% with amount|default:4 as amount %}
    {% get_objects latest_published_with_avatars people.Person amount as newest_objects %}
    {% if newest_objects %}
    
        <div class="row profile-grid">
            
            {% for person in newest_objects %}
        
                <div class="col-xs-12 col-sm-6 col-md-3">
                    <div class="wrapper">
                        <a class="content" href="{{ person.get_url_path }}">
                            {% if person.image %}
                                <img src="{{ UPLOADS_URL }}{{ person.image|modified_path:"profile" }}" alt="{{ person.get_title|escape }}"/>
                            {% else %}
                                <img src="{{ STATIC_URL }}site/img/placeholder/profile.png" alt="{{ person.get_title|escape }}"/>
                            {% endif %}
                            <div class="name">
                                <h2>{{ person.get_title|escape }}</h2>
                            </div>
                        </a>
                        <div class="button-group">
                            {% if request.user.is_authenticated %}
                                {% adding2favorites for person using "generic/favorite_icon.html" %}
                            {% else %}
                                <a rel="nofollow" href="{% url 'login' %}?goto_next={{ request.path }}" class="fawesome fa-favorite button"><span class="sr-only">{% trans "Add to favorites" %}</span></a>
                            {% endif %}
                        </div>
                    </div>
                </div>
    
            {% endfor %}
            
        </div>

    {% else %}
        <p class="intro">{% trans "There are no public people." %}</p>
    {% endif %}
{% endwith %}
