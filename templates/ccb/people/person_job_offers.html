{% extends "people/details_base.html" %}
{% load i18n base_tags navigation_tags auth_extended babel %}

{% block extrahead %}
    {{ block.super }}
    <link rel="alternate" type="application/rss+xml"
        title="{% blocktrans with object.get_title as person_title %}RSS Feed of Jobs by {{ person_title }}{% endblocktrans %}"
        href="{{ WEBSITE_URL|slice:"0:-1" }}{{ request.path }}feed/rss/{{ LANGUAGE_CODE }}/
                  {% filter force_escape %}{% append_to_get page=0,paginate_by=0,sort_by=0 no_path %}{% endfilter %}">
    <link rel="alternate" type="application/atom+xml"
        title="{% blocktrans with object.get_title as person_title %}Atom Feed of Jobs by {{ person_title }}{% endblocktrans %}"
        href="{{ WEBSITE_URL|slice:"0:-1" }}{{ request.path }}feed/atom/{{ LANGUAGE_CODE }}/
                  {% filter force_escape %}{% append_to_get page=0,paginate_by=0,sort_by=0 no_path %}{% endfilter %}">
{% endblock %}


{% block details %}
    {% if not object_list %}
        {% ifequal request.user object.user %}
            {% navigation_links "menu_personal_activitie_job" using "navigation/includes/box.html" %}
        {% else %}
            <p>{% trans "No objects found within the selected conditions." %}</p>
        {% endifequal %}
    {% else %}
        <div class="row job-list">
            {% for job_offer in object_list %}
                {% if view_type == "listed" %}
                    {% include "marketplace/lists/job_offer_listed.html" %}
                {% endif %}
                {% if view_type == "map" %}
                    {% include "marketplace/lists/job_offer_mapped.html" %}
                {% endif %}
            {% endfor %}
        </div>
        {% include "utils/includes/pagination.html" %}
    {% endif %}
{% endblock %}
