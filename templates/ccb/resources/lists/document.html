{% extends "utils/lists/base_context_item.html" %}
{% load i18n base_tags babel image_mods_tags %}

{% block object_title %}
    <a href="{{ document.get_url_path }}">{{ document.get_title|escape }}</a>
{% endblock %}

{% block object_absolute_url %}{{ document.get_url_path }}{% endblock %}

{% block object_image %}
    <a href="{{ document.get_url_path }}">
        {% if document.image %}
            <img alt="{{ document.get_title|escape }}" src="{{ UPLOADS_URL }}{{ document.image|modified_path:"al" }}"/>
        {% else %}
            <img alt="{{ document.get_title|escape }}"
                src="{{ STATIC_URL }}site/img/website/placeholder/document_m.png"/>
        {% endif %}
    </a>
{% endblock %}

{% block object_col1 %}
{% endblock %}

{% block object_col2 %}
    {% if document.document_type %}
        <p class="object-type">{{ document.document_type.get_title|escape }}</p>
    {% endif %}
    {% if document.url_link %}
        <p><span class="type">{% trans "URL" %}: </span>
            <a href="{{ document.url_link|escape }}"
                onclick="open_new_window(event)">
                {% with document.url_link|slice:"0:70"|escape as sliced %}{{ sliced }}
                    {% with document.url_link|escape as not_sliced %}{% ifnotequal sliced not_sliced %}...
                    {% endifnotequal %}{% endwith %}{% endwith %}</a>
        </p>
    {% endif %}
{% endblock %}

{% block object_controls %}
    {% include "resources/documents/controls.html" %}
{% endblock %}

