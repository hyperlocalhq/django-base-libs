{% extends "utils/includes/base_latest_objects_index.html" %}
{% load i18n base_tags site_specific babel image_modifications %}
{% comment %}<!--
Usage in any template:
    {% load base_tags %}
    
    Simple:
    {% include_parsed "events/includes/latest_published_events_index.html" %}
    
    Customized:
    {% include_parsed "events/includes/latest_published_events_index.html" with 5 as amount %}
    
-->{% endcomment %}

{% block block_title %}{% trans "Upcoming" %} Events{% endblock %}

{% block link_to_more %}/{{ URL_ID_EVENTS }}/?order_by=start_date_asc{% endblock %}

{% block block_content %}
    {% with amount|default:3 as amount %}
        {% get_latest_published_objects_cs events.Event amount as newest_objects %}
        {% if newest_objects %}
            <ul>
            {% for event in newest_objects %}
                <li>
                    <a href="{{ event.get_url_path }}">
                        {% if event.image %}
                            <img alt="{{ event.get_title|escape }}" src="{{ UPLOADS_URL }}{{ event.image|modified_path:"ast" }}" />
                        {% endif %}
                        {{ event.get_title|escape }}
                    </a>
                </li>
            {% endfor %}
            </ul>
            <hr class="hidden"/>
        {% else %}
            <p>{% trans "There are no public events." %}</p>
            <hr class="hidden"/>
        {% endif %}
    {% endwith %}
{% endblock %}
