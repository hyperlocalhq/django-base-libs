{% load i18n base_tags auth_extended %}


{% if object.get_categories or object.get_tags or object.get_locality_type or perms.events.change_event %}
    <div
        class="fieldset {% if_has_perm "events.change_event" object %}editable switch{% else %}not-editable{% end_if_has_perm %}"
        data-edit-url="{% url 'edit_profile' object_type='event' slug=object.slug %}categories/">
        <fieldset disabled>
            <h2>{% trans "Categories" %}</h2>

            {% if object.get_categories %}
                <dl class="input-fields">
                    <dt>
                        {% with object.get_categories|length as sectors_count %}
                            {% ifequal sectors_count 1 %}
                                {% trans "Category" %}
                            {% else %}
                                {% trans "Categories" %}
                            {% endifequal %}
                        {% endwith %}
                    </dt>
                    <dd>
                        <div class="text-field">
                            {% for cat in object.get_categories %}
                                <div>{{ cat.title|escape }}</div>
                            {% endfor %}
                        </div>
                    </dd>
                    <dd class="clearfix"></dd>
                </dl>
            {% endif %}

            {% if object.get_tags %}
                <dl class="input-fields">
                    <dt>{% trans "Tags" %}</dt>
                    <dd>
                        <div class="text-field">{{ object.get_tags|join:", " }}</div>
                    </dd>
                    <dd class="clearfix"></dd>
                </dl>
            {% endif %}
            
            {% comment %}
            {% if object.get_locality_type %}
                <dl class="input-fields">
                    <dt>{% trans "Location" %}</dt>
                    <dd>
                        <div class="text-field">{{ object.get_locality_type.title|escape }}</div>
                    </dd>
                    <dd class="clearfix"></dd>
                </dl>
            {% endif %}
            {% endcomment %}

        </fieldset>
    </div>
{% endif %}


{% comment %}
<h6 class="section-header">{% trans "Categories" %}</h6>
<div class="section-details">

    {% if object.get_creative_sectors %}
        <dl>
            <dt>
                {% with object.get_creative_sectors|length as creative_sectors_count %}
                    {% ifequal creative_sectors_count 1 %}
                        {% trans "Creative Sector" %}
                    {% else %}
                        {% trans "Creative Sectors" %}
                    {% endifequal %}
                {% endwith %}
            </dt>
            {% for cat in object.get_creative_sectors %}
                {% if forloop.first %}
                    <dd>{% endif %}
            {{ cat.get_title|escape }}{% if not forloop.last %}, {% endif %}
            {% if forloop.last %}</dd>{% endif %}
            {% endfor %}
        </dl>
    {% endif %}
    {% if object.get_categories %}
        <dl>
            <dt>
                {% with object.get_categories|length as categories_count %}
                    {% ifequal categories_count 1 %}
                        {% trans "Category" %}
                    {% else %}
                        {% trans "Categories" %}
                    {% endifequal %}
                {% endwith %}
            </dt>
            {% for cat in object.get_categories %}
                {% if forloop.first %}
                    <dd>{% endif %}
            {{ cat.title|escape }}{% if not forloop.last %}, {% endif %}
            {% if forloop.last %}</dd>{% endif %}
            {% endfor %}
        </dl>
    {% endif %}
    {% if object.tags %}
        <dl>
            <dt>{% trans "Tags" %}</dt>
            <dd>{{ object.get_tags|join:", " }}</dd>
        </dl>
    {% endif %}
    {% if object.get_locality_type %}
        <dl>
            <dt>{% trans "Location" %}</dt>
            <dd>
                {{ object.get_locality_type.title|escape }}
            </dd>
        </dl>
    {% endif %}
</div>
{% endcomment %}
