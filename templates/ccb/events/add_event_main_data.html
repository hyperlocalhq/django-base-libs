{% extends "base.html" %}
{% load base_tags i18n uni_form_tags uni_form_field %}

{% block title %}{% trans "Registration" %} - {% trans "Event" %}{% endblock %}

{% block extrahead %}
	<script type="text/javascript" src="{{ STATIC_URL }}site/js/jquery/autocomplete_1.0/jquery.bgiframe.min.js"></script>
	<script type="text/javascript" src="{{ STATIC_URL }}site/js/jquery/autocomplete_1.0/jquery.autocomplete.js"></script>
	<script type="text/javascript" src="{{ STATIC_URL }}site/js/website/autocomplete.js"></script>
{% endblock %}


{% block headline %}
    <h1>{% trans "Registration" %}</h1>
    <h2 class="sub">{% trans "Event" %}</h2>
{% endblock %}

{% block sidebar-a %}
    {% include "utils/step_list.html" %}
{% endblock %}
{% block sidebar-b %}{% endblock %}

{% block content %}
    <div class="reg">
        <form id="id_event_main_data_form" action="" method="post" class="uniForm">
            <fieldset class="inlineLabels">
                <h3>{% trans "Title" %}</h3>
                {{ form.title_de|as_uni_field }}
                {{ form.title_en|as_uni_field }}
                {{ form.event_type|as_uni_field }}

                <h3>{% trans "Period" %}</h3>
                {{ formsets.event_times.management_form }}
                {{ formsets.event_times.non_form_errors }}
                
                {% for f in formsets.event_times.forms %}
                    {% include "uni_form/includes/event_time.html" %}
                {% endfor %}

                <div id="id_block_venue_select">
                    <h3>{% trans "Venue" %}</h3>
                    {{ form.venue|as_uni_field }}
                    <p><a id="id_venue_not_listed" href="#">{% trans "Not listed? Enter manually" %}</a></p>
                </div>
                <div id="id_block_venue_address_display">
                    <h3>{% trans "Venue" %}</h3>
                    <div class="ctrlHolder noLabel">
                        <ul class="def_list">
                            <li class="add_manually_list_label">
                                <label>
                                    {% trans "address" %}:
                                </label>
                            </li>
                            <li id="id_venue_address_title" class="add_manually_list">                            
                                <strong>Title</strong>                                    
                            </li>
                            <li id="id_venue_address_street_address" class="add_manually_list">
                                <strong>Street Address</strong>
                            </li>
                            <li id="id_venue_address_street_address2" class="add_manually_list">
                                <strong>Street Address 2</strong>
                            </li>
                            <li id="id_venue_address_postal_code" class="add_manually_list">
                                <strong>11111</strong>
                            </li>
                            <li id="id_venue_address_city" class="add_manually_list">
                                <strong>Berlin</strong>
                            </li>
                            <li id="id_venue_address_country" class="add_manually_list">
                                <strong>Germany</strong>
                            </li>
                            <li class="add_manually_list">
                                <a id="id_venue_change" href="#">
                                {% trans "Change selection" %}
                            </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div id="id_block_venue_name_input">
                    <h3>{% trans "Venue" %}</h3>
                    {{ form.venue_title|as_uni_field }}
                    <p><a id="id_venue_select" href="#">
                        {% trans "Back to selection" %}
                    </a></p>
                </div>
                <div id="id_block_venue_address_input">
                    <h3>{% trans "Address" %}</h3>
                    {{ form.street_address|as_uni_field }}
                    {{ form.street_address2|as_uni_field }}
                    {% include "uni_form/includes/postal_code_city.html" %}
                    {{ form.country|as_uni_field }}
                    {{ form.latitude|as_uni_field }}
                    {{ form.longitude|as_uni_field }}
                </div>
                <div id="dyn_set_map">
                    <div class="buttonHolder">
                        <input id="dyn_remove_geo" type="button" class="secondaryAction" value="{% filter upper %}{% trans "Remove from map" %}{% endfilter %}" />
                    </div>
                    <!-- THE GMAPS WILL BE INSERTED HERE DYNAMICALLY -->
                </div>
                <div id="id_block_venue_contact_input">
                    <h3>{% trans "Information about this Event" %}</h3>
                    {% include "uni_form/includes/phone.html" %} 
                    {% include "uni_form/includes/fax.html" %} 
                    
                    {{ form.url0_link|as_uni_field }}
                </div>
                
                <h3>{% trans "Organizer" %}</h3>
                <div class="ctrlHolder noLabel">
                    {{ form.organizer_ind|with_class }}
                </div>

                <div id="id_block_org_inst_select">
                    {{ form.organizing_institution|as_uni_field }}
                    <p>
                        <a id="id_org_inst_not_listed" href="#">{% trans "Not listed? Enter manually" %}</a>
                    </p>
                </div>
                <div id="id_block_org_inst_address_display" class="organizeraddress_add_event">
                    <h3>
                        {% trans "Organizer" %}{% trans "Address" %}
                    </h3>
                    <div class="ctrlHolder noLabel">
                        <ul class="address def_list">
                            <li class="add_manually_list_label">
                                <label>{% trans "address" %}:</label>
                            </li>
                            <li id="id_org_inst_address_title" class="add_manually_list">                            
                                 <strong>Title</strong>
                            </li>
                            <li id="id_org_inst_address_street_address" class="add_manually_list">
                                <strong>Street Address</strong>
                            </li>
                            <li id="id_org_inst_address_street_address2" class="add_manually_list">
                                <strong>Street Address 2</strong>
                            </li>
                            <li id="id_org_inst_address_postal_code" class="add_manually_list">
                                <strong>11111</strong>
                            </li>
                            <li id="id_org_inst_address_city" class="add_manually_list">
                                <strong>Berlin</strong>
                            </li>
                            <li id="id_org_inst_address_country" class="add_manually_list">
                                <strong>Germany</strong>
                            </li>
                        </ul>
                    </div>
                    <div class="ctrlHolder noLabel" id="id_org_inst_phone_container">
                        <ul class="def_list">
                            <li class="add_manually_list_label">
                                <label>
                                    {% trans "Phone" %}:
                                </label>
                            </li>
                            <li id="id_org_inst_phone" class="add_manually_list">
                                <strong>Phone</strong>
                            </li>
                        </ul>
                    </div>
                    <div class="ctrlHolder noLabel" id="id_org_inst_fax_container">
                        <ul class="def_list">
                            <li class="add_manually_list_label">
                                <label>
                                  {% trans "Fax" %}:
                                </label>
                            </li>
                            <li id="id_org_inst_fax" class="add_manually_list">
                                <strong>Fax</strong>
                            </li>
                        </ul>
                    </div>
                    <div class="ctrlHolder noLabel" id="id_org_inst_url0_link_container">
                        <ul class="def_list">
                            <li class="add_manually_list_label">
                                <label>
                                    {% trans "Url" %}:
                                </label>
                            </li>
                            <li id="id_org_inst_url0_link" class="add_manually_list">
                                <strong>URL</strong>
                            </li>
                            <li class="add_manually_list">
                                <a id="id_org_inst_change" href="#">{% trans "Change selection" %}</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div id="id_block_org_inst_data_input">
                    {{ form.organizer_title|as_uni_field }}
                    {{ form.organizer_url_link|as_uni_field }}
                    <p>
                        <a id="id_org_inst_select" href="#">{% trans "Back to selection" %}</a>
                    </p>
                </div>
                
                {% comment %}<!--
                <h3>{% trans "Related Events" %}</h3>
                {{ form.related_events|as_uni_field }}
                -->{% endcomment %}
                <hr />
                
                {% include "utils/step_buttons_reg.html" %}
            </fieldset>
        </form>
    </div>
{% endblock %}

{% block breadcrumbs %}
    <div class="breadcrumbs">
        <a href="/">{% trans "Home" %}</a>
        <span class="b-sep"><span>::</span></span><a href="/{{ URL_ID_EVENTS }}/">{% trans "Events" %}</a>
        <span class="b-sep"><span>::</span></span><span>{% trans "Add new event" %}</span>
    </div>
{% endblock %}

{% block extrabody %}
	<script type="text/javascript" src="{{ STATIC_URL }}site/js/website/multipleselectautocomplete.js"></script>
	<script type="text/javascript" src="{{ STATIC_URL }}site/js/website/event_times.js"></script>
	<script type="text/javascript" src="{{ STATIC_URL }}site/js/website/add_event.js"></script>
	<script type="text/javascript" src="{{ STATIC_URL }}site/js/website/formsets.js"></script>
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false&amp;language={{ LANGUAGE_CODE }}&amp;region=DE"></script>
	<script type="text/javascript" src="{{ STATIC_URL }}site/js/website/gmaps_for_address.js"></script>
{% endblock %}

