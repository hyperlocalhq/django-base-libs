{% load crispy_forms_filters %}
{% load l10n %}

{% with html_name=field.html_name value=field.value|add:"0" choices=field.field.choices attrs=field.field.widget.attrs %}
{{ value }}
<li class="accordion-inside accordion-trigger {% if field.value and value != 0 and value != "0" and value != "" %}opened{% endif %}" id="{{ html_name }}">
    <input type="hidden" name="{{ html_name }}" value="{% if value|add:"0" != 0 %}{{ value }}{% endif %}" />
    <div class="child accordion-trigger">{{ field.label }}</div>
    <ul class="accordion">
        {% for choice_value, choice_instance in choices %}
            {% if choice_instance.level == 0 %}
                <li data-level="{{ choice_instance.level }}"><a href="javascript:void(0);" data-value="{{ choice_value }}" {% if value == choice_value|add:"0" or value == choice_value %}class="active"{% endif %}>{{ choice_instance }}</a></li>
            {% else %}
                <li data-level="{{ choice_instance.level }}"><a href="javascript:void(0);" data-value="{{ choice_value }}" {% if value == choice_value|add:"0" or value == choice_value %}class="active"{% endif %}>{% if choice_instance.level == 1 %} - {% endif %}{{ choice_instance }}</a></li>
            {% endif %}
        {% endfor %}
    </ul>
</li>
{% endwith %}
