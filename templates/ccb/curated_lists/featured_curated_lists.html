{% extends "base.html" %}
{% load i18n base_tags image_modifications tagging_tags sekizai_tags cms_tags crispy_forms_tags %}

{% block title %}{% page_attribute "title" %}{% endblock %}


{% block content %}
    <div class="header">
        <div class="container">
            <div class="row">
                <div class="col-xs-12">
                    <h1>{% page_attribute "page_title" %}</h1>
                </div>
            </div>
        </div>
    </div>
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                {% static_placeholder "featured_curated_lists" %}
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-4 col-md-3">
                {% crispy form "ccb_form" %}
            </div>
            <div class="col-xs-12 col-sm-8 col-md-9">
            {% if object_list %}
                <div class="row profile-grid profile-list">
                    {% for object in object_list %}

                        <div class="col-xs-12 col-sm-6 col-md-4">
                            <div class="wrapper">
                                <a class="content" href="{{ object.get_url_path }}">
                                    {% if object.image %}
                                        <div class="image-wrapper">
                                            <img src="{{ UPLOADS_URL }}{{ object.image|modified_path:"profile" }}" alt="{{ object.title|escape }}"/>
                                            {% if object.content_object.photo_author %}<span class="photo-credits-beneath">{% trans "Photo" %}: {{ object.content_object.photo_author }}</span>{% endif %}
                                        </div>
                                    {% endif %}
                                    <div class="text">
                                        <h2>{{ object.title|escape }}</h2>
                                        <h3 class="owners">{% for owner in object.listowner_set.all %}{% if forloop.first %}{% trans "by" %} {% endif %}{{ owner.representation }}{% if not forloop.last %}, {% endif %}{% endfor %}</h3>
                                        <h3 class="count">{% blocktrans count counter=object.get_item_count %}1 item{% plural %}{{ counter }} items{% endblocktrans %}</h3>
                                    </div>
                                </a>
                            </div>
                        </div>

                    {% endfor %}

                </div>
            {% else %}
                <div class="box col-xs-12">
                    <h3>{% trans "There are no featured curated lists." %}</h3>
                </div>
            {% endif %}
        </div>
    </div>
{% endblock %}