{% load admin_modify base_tags extended_admin %}
{% output_all bound_field.form_fields %}
{% if bound_field.raw_id_admin %}
    {% if bound_field.field.rel.limit_choices_to %}
        <a href="{{ bound_field.related_url }}?{% for limit_choice in bound_field.field.rel.limit_choices_to.items %}{% if not forloop.first %}&amp;{% endif %}{{ limit_choice|join:"=" }}{% endfor %}" class="related-lookup" id="lookup_{{ bound_field.element_id }}" onclick="return showRelatedObjectLookupPopup(this);"> <img src="{% jetson_media_url %}img/admin/selector-search.gif" width="16" height="16" alt="Lookup"></a>
    {% else %}
        <a href="{{ bound_field.related_url }}" class="related-lookup" id="lookup_{{ bound_field.element_id }}" onclick="return showRelatedObjectLookupPopup(this);"> <img src="{% jetson_media_url %}img/admin/selector-search.gif" width="16" height="16" alt="Lookup"></a>
    {% endif %}
{% else %}
{% if bound_field.form_fields.0.data %}
    <a href="{{ bound_field.related_url }}{{ bound_field.form_fields.0.data }}" class="change-current" id="change_{{ bound_field.element_id }}" onclick="return showChangeCurrentPopup(this);"> <img src="{% jetson_media_url %}img/admin/icon_changelink.gif" width="10" height="10" alt="Edit Current"/></a>
{% endif %}
{% if bound_field.needs_add_label %}
    <a href="{{ bound_field.related_url }}add/" class="add-another" id="add_{{ bound_field.element_id }}" onclick="return showAddAnotherPopup(this);"> <img src="{% jetson_media_url %}img/admin/icon_addlink.gif" width="10" height="10" alt="Add Another"/></a>
{% endif %}{% endif %}
{% if change %}
    {% if bound_field.field.primary_key %}
        {{ bound_field.original_value }}
    {% endif %}
    {% if bound_field.raw_id_admin %}
        {% if bound_field.existing_display %}&nbsp;<strong>{{ bound_field.existing_display|truncatewords:"14"|escape }}</strong>{% endif %}
    {% endif %}
{% endif %}
