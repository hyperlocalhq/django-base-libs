{% load i18n %}

<fieldset class="contact_fieldset grp-module grp-aligned grp-collapse grp-open{% if make_nested %} nested{% endif %}">
    <h4 class="grp-collapse-handler">{% trans "Address" %}</h4>
    {{ contact_form.postal_address_id }}
    <div class="grp-row grp-cells-1{% if contact_form.street_address.errors %} grp-errors{% endif %}">
        <div class="l-2c-fluid l-d-4">
            <div class="c-1">
                <label{% if contact_form.street_address.field.required %} class="required"{% endif %}
                                                                          for="{{ contact_form.street_address.auto_id }}">{{ contact_form.street_address.label }}</label>
            </div>
            <div class="c-2">
                {{ contact_form.street_address }}
                {% if contact_form.street_address.errors %}
                    <ul class="errorlist">
                        <li>{{ contact_form.street_address.errors|join:", " }}</li>
                    </ul>
                {% endif %}

                {% if contact_form.street_address.help_text %}
                    <p class="grp-help">{{ contact_form.street_address.help_text }}</p>{% endif %}
            </div>
        </div>
    </div>
    <div class="grp-row grp-cells-1{% if contact_form.street_address2.errors %} grp-errors{% endif %}">
        <div class="l-2c-fluid l-d-4">
            <div class="c-1">
                <label{% if contact_form.street_address2.field.required %} class="required"{% endif %}
                                                                           for="{{ contact_form.street_address2.auto_id }}">{{ contact_form.street_address2.label }}</label>
            </div>
            <div class="c-2">
                {{ contact_form.street_address2 }}
                {% if contact_form.street_address2.errors %}
                    <ul class="errorlist">
                        <li>{{ contact_form.street_address2.errors|join:", " }}</li>
                    </ul>
                {% endif %}

                {% if contact_form.street_address2.help_text %}
                    <p class="grp-help">{{ contact_form.street_address2.help_text }}</p>{% endif %}
            </div>
        </div>
    </div>
    <div class="grp-row grp-cells-1{% if contact_form.street_address3.errors %} grp-errors{% endif %}">
        <div class="l-2c-fluid l-d-4">
            <div class="c-1">
                <label{% if contact_form.street_address3.field.required %} class="required"{% endif %}
                                                                           for="{{ contact_form.street_address3.auto_id }}">{{ contact_form.street_address3.label }}</label>
            </div>
            <div class="c-2">
                {{ contact_form.street_address3 }}
                {% if contact_form.street_address3.errors %}
                    <ul class="errorlist">
                        <li>{{ contact_form.street_address3.errors|join:", " }}</li>
                    </ul>
                {% endif %}

                {% if contact_form.street_address3.help_text %}
                    <p class="grp-help">{{ contact_form.street_address3.help_text }}</p>{% endif %}
            </div>
        </div>
    </div>
    <div class="grp-row grp-cells-1{% if contact_form.postal_code.errors %} grp-errors{% endif %}">
        <div class="l-2c-fluid l-d-4">
            <div class="c-1">
                <label{% if contact_form.postal_code.field.required %} class="required"{% endif %}
                                                                       for="{{ contact_form.postal_code.auto_id }}">{{ contact_form.postal_code.label }}</label>
            </div>
            <div class="c-2">
                {{ contact_form.postal_code }}
                {% if contact_form.postal_code.errors %}
                    <ul class="errorlist">
                        <li>{{ contact_form.postal_code.errors|join:", " }}</li>
                    </ul>
                {% endif %}

                {% if contact_form.postal_code.help_text %}
                    <p class="grp-help">{{ contact_form.postal_code.help_text }}</p>{% endif %}
            </div>
        </div>
    </div>
    <div class="grp-row grp-cells-1{% if contact_form.city.errors %} grp-errors{% endif %}">
        <div class="l-2c-fluid l-d-4">
            <div class="c-1">
                <label{% if contact_form.city.field.required %} class="required"{% endif %}
                                                                for="{{ contact_form.city.auto_id }}">{{ contact_form.city.label }}</label>
            </div>
            <div class="c-2">
                {{ contact_form.city }}
                {% if contact_form.city.errors %}
                    <ul class="errorlist">
                        <li>{{ contact_form.city.errors|join:", " }}</li>
                    </ul>
                {% endif %}

                {% if contact_form.city.help_text %}<p class="grp-help">{{ contact_form.city.help_text }}</p>{% endif %}
            </div>
        </div>
    </div>
    <div class="grp-row grp-cells-1{% if contact_form.state.errors %} grp-errors{% endif %}">
        <div class="l-2c-fluid l-d-4">
            <div class="c-1">
                <label{% if contact_form.state.field.required %} class="required"{% endif %}
                                                                 for="{{ contact_form.state.auto_id }}">{{ contact_form.state.label }}</label>
            </div>
            <div class="c-2">
                {{ contact_form.state }}
                {% if contact_form.state.errors %}
                    <ul class="errorlist">
                        <li>{{ contact_form.state.errors|join:", " }}</li>
                    </ul>
                {% endif %}

                {% if contact_form.state.help_text %}
                    <p class="grp-help">{{ contact_form.state.help_text }}</p>{% endif %}
            </div>
        </div>
    </div>
    <div class="grp-row grp-cells-1{% if contact_form.country.errors %} grp-errors{% endif %}">
        <div class="l-2c-fluid l-d-4">
            <div class="c-1">
                <label{% if contact_form.country.field.required %} class="required"{% endif %}
                                                                   for="{{ contact_form.country.auto_id }}">{{ contact_form.country.label }}</label>
            </div>
            <div class="c-2">
                {{ contact_form.country }}
                {% if contact_form.country.errors %}
                    <ul class="errorlist">
                        <li>{{ contact_form.country.errors|join:", " }}</li>
                    </ul>
                {% endif %}

                {% if contact_form.country.help_text %}
                    <p class="grp-help">{{ contact_form.country.help_text }}</p>{% endif %}
            </div>
        </div>
    </div>
    <fieldset class="grp-module grp-aligned">
        <h4>{% trans "Additional Address Information" %}</h4>
        <div class="grp-row grp-cells-1{% if contact_form.district.errors %} grp-errors{% endif %}">
            <div class="l-2c-fluid l-d-4">
                <div class="c-1">
                    <label{% if contact_form.district.field.required %} class="required"{% endif %}
                                                                        for="{{ contact_form.district.auto_id }}">{{ contact_form.district.label }}</label>
                </div>
                <div class="c-2">
                    {{ contact_form.district }}
                    {% if contact_form.district.errors %}
                        <ul class="errorlist">
                            <li>{{ contact_form.district.errors|join:", " }}</li>
                        </ul>
                    {% endif %}

                    {% if contact_form.district.help_text %}
                        <p class="grp-help">{{ contact_form.district.help_text }}</p>{% endif %}
                </div>
            </div>
        </div>
        <div class="grp-row grp-cells-1{% if contact_form.neighborhood.errors %} grp-errors{% endif %}">
            <div class="l-2c-fluid l-d-4">
                <div class="c-1">
                    <label{% if contact_form.neighborhood.field.required %} class="required"{% endif %}
                                                                            for="{{ contact_form.neighborhood.auto_id }}">{{ contact_form.neighborhood.label }}</label>
                </div>
                <div class="c-2">
                    {{ contact_form.neighborhood }}
                    {% if contact_form.neighborhood.errors %}
                        <ul class="errorlist">
                            <li>{{ contact_form.neighborhood.errors|join:", " }}</li>
                        </ul>
                    {% endif %}

                    {% if contact_form.neighborhood.help_text %}
                        <p class="grp-help">{{ contact_form.neighborhood.help_text }}</p>{% endif %}
                </div>
            </div>
        </div>
        <div class="grp-row grp-cells-1{% if contact_form.latitude.errors %} grp-errors{% endif %}">
            <div class="l-2c-fluid l-d-4">
                <div class="c-1">
                    <label{% if contact_form.latitude.field.required %} class="required"{% endif %}
                                                                        for="{{ contact_form.latitude.auto_id }}">{{ contact_form.latitude.label }}</label>
                </div>
                <div class="c-2">
                    {{ contact_form.latitude }}
                    {% if contact_form.latitude.errors %}
                        <ul class="errorlist">
                            <li>{{ contact_form.latitude.errors|join:", " }}</li>
                        </ul>
                    {% endif %}

                    {% if contact_form.latitude.help_text %}
                        <p class="grp-help">{{ contact_form.latitude.help_text }}</p>{% endif %}
                </div>
            </div>
        </div>
        <div class="grp-row grp-cells-1{% if contact_form.longitude.errors %} grp-errors{% endif %}">
            <div class="l-2c-fluid l-d-4">
                <div class="c-1">
                    <label{% if contact_form.longitude.field.required %} class="required"{% endif %}
                                                                         for="{{ contact_form.longitude.auto_id }}">{{ contact_form.longitude.label }}</label>
                </div>
                <div class="c-2">
                    {{ contact_form.longitude }}
                    {% if contact_form.longitude.errors %}
                        <ul class="errorlist">
                            <li>{{ contact_form.longitude.errors|join:", " }}</li>
                        </ul>
                    {% endif %}

                    {% if contact_form.longitude.help_text %}
                        <p class="grp-help">{{ contact_form.longitude.help_text }}</p>{% endif %}
                </div>
            </div>
        </div>
        <div class="grp-row grp-cells-1{% if contact_form.altitude.errors %} grp-errors{% endif %}">
            <div class="l-2c-fluid l-d-4">
                <div class="c-1">
                    <label{% if contact_form.altitude.field.required %} class="required"{% endif %}
                                                                        for="{{ contact_form.altitude.auto_id }}">{{ contact_form.altitude.label }}</label>
                </div>
                <div class="c-2">
                    {{ contact_form.altitude }}
                    {% if contact_form.altitude.errors %}
                        <ul class="errorlist">
                            <li>{{ contact_form.altitude.errors|join:", " }}</li>
                        </ul>
                    {% endif %}

                    {% if contact_form.altitude.help_text %}
                        <p class="grp-help">{{ contact_form.altitude.help_text }}</p>{% endif %}
                </div>
            </div>
        </div>
    </fieldset>
    <fieldset class="grp-module grp-collapse grp-open">
        <h2 class="grp-collapse-handler">{% trans "Map" %}</h2>
        <div class="grp-row grp-cells-1">
            <div class="gmap-wrapper">
                <!-- THE GMAPS WILL BE INSERTED HERE DYNAMICALLY -->
            </div>
            <div class="grp-submit-row">
                <ul>
                    <li>
                        <input class="dyn_locate_geo grp-button" type="button" value="{% trans "Relocate on map" %}"/>
                    </li>
                    <li>
                        <input class="dyn_remove_geo grp-button" type="button" value="{% trans "Remove from map" %}"/>
                    </li>
                </ul>
            </div>
        </div>
    </fieldset>
</fieldset>
